/**
 * @license RequireJS text 2.0.5 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

define("controllers/controllers",["require","angular"],function(e){var t=e("angular");return t.module("controllers",[])}),define("filters/filters",["require","angular"],function(e){var t=e("angular");return t.module("filters",[])}),define("services/services",["require","angular"],function(e){var t=e("angular");return t.module("services",[])}),define("directives/directives",["require","angular"],function(e){var t=e("angular");return t.module("directives",[])}),define("common/utils",["require"],function(e){return{getDuration:function(e){return minutes=parseInt(e/60),e=""+e%60,e.length===1&&(e="0"+e),minutes+":"+e}}}),define("controllers/youTube",["require","angular","./controllers","../common/utils"],function(e){var t=e("angular"),n=e("./controllers"),r=e("../common/utils"),i=n.controller("YouTubeCtrl",["$scope","$location","$routeParams","$http",function(e,t,n,i){function s(t){var n=t.data,i=n.feed.entry,s=i.length,o,u;while(s--)o=i[s],u=o.id.$t.split("/"),o.source=u[u.length-1],o.duration=r.getDuration(o.media$group.yt$duration.seconds);e.videos=i,e.currentVideo=i[0],e.totalItems=n.feed.openSearch$totalResults.$t,e.currentPage=parseInt(e.startIndex/e.pageSize)+1,e.$$phase||e.$digest()}e.searchTerm="pat metheny",e.startIndex=1,e.totalItems=0,e.pageSize=20,e.currentPage=1,e.search=function(){e.$parent.searchTerm=e.searchTerm;var t="http://gdata.youtube.com/feeds/videos?vq="+e.searchTerm+"&format=5&max-results=20&start-index="+e.startIndex+"&alt=json-in-script&callback=JSON_CALLBACK";i.jsonp(t).then(s)},e.page=function(t){e.startIndex=t,e.search()},n.searchTerm&&(e.$parent.searchTerm=e.searchTerm=n.searchTerm),e.search()}]);return i}),define("controllers/ytCurrentVideo",["require","angular","./controllers","../common/utils"],function(e){var t=e("angular"),n=e("./controllers"),r=e("../common/utils"),i=n.controller("YTCurrentCtrl",["$scope","$location","$routeParams","$http",function(e,t,n,i){function s(t){var n=t.data,r=n.entry.id.$t.split("/");console.log(n),e.currentVideo=n.entry,e.currentVideo.source=r[r.length-1],o(e.currentVideo),a(e.currentVideo)}function o(e){var t=e.id.$t+"/related"+"?format=5&alt=json-in-script&callback=JSON_CALLBACK";i.jsonp(t).then(u)}function u(t){var n=t.data,i=n.feed.entry,s=i.length,o,u;while(s--)o=i[s],u=o.id.$t.split("/"),o.source=u[u.length-1],o.duration=r.getDuration(o.media$group.yt$duration.seconds);e.videos=i,e.$$phase||e.$digest()}function a(e){var t=e.gd$comments.gd$feedLink.href+"?format=5&alt=json-in-script&callback=JSON_CALLBACK";i.jsonp(t).then(f)}function f(t){e.comments=t.data.feed.entry,e.$$phase||e.$digest()}e.searchTerm=e.$parent.searchTerm||"pat metheny",e.searchRedirect=function(){t.path("/"+e.searchTerm)},e.getByID=function(e){var t="http://gdata.youtube.com/feeds/videos/"+e+"?format=5&alt=json-in-script&callback=JSON_CALLBACK";i.jsonp(t).then(s)},e.setCurrent=function(e){t.path("/video/"+e)},n.videoID&&(console.log(n.videoID),e.getByID(n.videoID))}]);return i}),define("text",["module"],function(e){var t,n,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,s=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,o=typeof location!="undefined"&&location.href,u=o&&location.protocol&&location.protocol.replace(/\:/,""),a=o&&location.hostname,f=o&&(location.port||undefined),l=[],c=e.config&&e.config()||{};t={version:"2.0.5",strip:function(e){if(e){e=e.replace(i,"");var t=e.match(s);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:c.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=r[t];try{e=new ActiveXObject(n)}catch(i){}if(e){r=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,c.isBuild&&(l[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}c.isBuild=i.isBuild;var s=t.parseName(e),l=s.moduleName+(s.ext?"."+s.ext:""),h=n.toUrl(l),p=c.useXhr||t.useXhr;!o||p(h,u,a,f)?t.get(h,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([l],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(l.hasOwnProperty(n)){var s=t.jsEscape(l[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(c.env==="node"||!c.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node)n=require.nodeRequire("fs"),t.get=function(e,t){var r=n.readFileSync(e,"utf8");r.indexOf("﻿")===0&&(r=r.substring(1)),t(r)};else if(c.env==="xhr"||!c.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);c.onXhr&&c.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText))},s.send(null)};else if(c.env==="rhino"||!c.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};return t}),define("text!directives/../../templates/searchResult.html",[],function(){return'<div>\r\n    <div class="yt-lockup2-thumbnail">\r\n        <a class="ux-thumb-wrap yt-uix-sessionlink yt-uix-contextlink contains-addto" href="#/video/{{video.source}}">\r\n            <span class="video-thumb ux-thumb yt-thumb-default-185 ">\r\n                <span class="yt-thumb-clip">\r\n                    <span class="yt-thumb-clip-inner">\r\n                        <img width="185" ng-src="{{video.media$group.media$thumbnail[0].url}}" alt="Thumbnail">\r\n                        <span class="vertical-align"></span>\r\n                    </span>\r\n                </span>\r\n            </span>\r\n            <span class="video-time">{{video.duration}}</span>\r\n        </a>\r\n    </div>\r\n\r\n    <div class="yt-lockup2-content">\r\n        <h5 class="yt-lockup2-title" style="margin:0;">\r\n            <a href="#/video/{{video.source}}" title="{{video.title.$t}}">{{video.title.$t}}</a>\r\n        </h5>\r\n\r\n        <p class="yt-lockup2-meta"> by <strong>{{video.author[0].name.$t}}</strong>\r\n            <span class="metadata-separator">•</span>\r\n            1 year ago\r\n            <span class="metadata-separator">•</span>\r\n            {{video.yt$statistics.viewCount}} views\r\n        </p>\r\n\r\n        <p dir="ltr" class="yt-lockup2-description">{{video.media$group.media$description.$t.substr(0, 50)}}</p>\r\n\r\n        <div class="yt-lockup2-badges">\r\n            <ul class="item-badge-line">\r\n                <li class="item-badge-label ">HD</li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n'}),define("directives/searchResult",["require","angular","./directives","text!../../templates/searchResult.html"],function(e){var t=e("angular"),n=e("./directives"),r=e("text!../../templates/searchResult.html"),i=n.directive("searchResult",function(){return{restrict:"C",replace:!0,transclude:!0,template:r}});return i}),define("text!directives/../../templates/relatedVideo.html",[],function(){return'\r\n<a href=\'#/video/{{video.source}}\'>\r\n    <span class="ux-thumb-wrap">\r\n        <span class="video-thumb ux-thumb yt-thumb-default-120 ">\r\n            <span class="yt-thumb-clip">\r\n                <span class="yt-thumb-clip-inner">\r\n                    <img width="120" alt="Thumbnail" ng-src="{{video.media$group.media$thumbnail[1].url}}" >\r\n                    <span class="vertical-align">\r\n                </span>\r\n                </span>\r\n            </span>\r\n        </span>\r\n        <span class="video-time">{{video.duration}}</span>\r\n    </span>\r\n    <span class="title" title="{{video.title.$t.substr(0, 30)}}">{{video.title.$t.substr(0, 20)}}</span>\r\n    <span class="stat">by {{video.author[0].name.$t}}</span>\r\n    <span class="stat"> {{video.yt$statistics.viewCount}} views </span>\r\n</a>\r\n\r\n'}),define("directives/relatedVideo",["require","angular","./directives","text!../../templates/relatedVideo.html"],function(e){var t=e("angular"),n=e("./directives"),r=e("text!../../templates/relatedVideo.html"),i=n.directive("relatedVideo",function(){return{restrict:"C",replace:!0,transclude:!0,template:r}});return i}),define("text!directives/../../templates/pager.html",[],function(){return'<div class="btn-toolbar">\r\n    <div class="btn-group">\r\n        <span class="btn"><i class="icon-step-backward" ng-click="page(1)"></i></span>\r\n        <span class="btn"><i class="icon-backward" ng-click="page(startIndex - pageSize)"></i></span>\r\n        <span class="btn"><i class="icon-forward" ng-click="page(startIndex + pageSize)"></i></span>\r\n        <span class="btn"><i class="icon-step-forward" ng-click="page(980)"></i></span>\r\n    </div>\r\n</div>'}),define("directives/pager",["require","angular","./directives","text!../../templates/pager.html"],function(e){var t=e("angular"),n=e("./directives"),r=e("text!../../templates/pager.html"),i=n.directive("pager",function(){return{restrict:"C",replace:!0,transclude:!0,template:r}});return i}),define("text!directives/../../templates/comment.html",[],function(){return'<span>\r\n<a class="yt-user-photo " href="/user/012013014">\r\n    <span class="video-thumb ux-thumb yt-thumb-square-48 ">\r\n        <span class="yt-thumb-clip">\r\n            <span class="yt-thumb-clip-inner">\r\n                <img width="48" src="//lh3.googleusercontent.com/-I_-gAeddn8s/AAAAAAAAAAI/AAAAAAAAAAA/xM4yXc31Yds/s48-c-k/photo.jpg" alt="012013014" data-group-key="thumb-group-2">\r\n                <span class="vertical-align"></span>\r\n            </span>\r\n        </span>\r\n    </span>\r\n</a>\r\n<div class="content" style="margin-left:60px;">\r\n  <p class="metadata" style="margin: 0;">\r\n    <span class="author ">\r\n      <a dir="ltr" class="yt-uix-sessionlink yt-user-name " href="/user/012013014">{{comment.author[0].name.$t}}</a>\r\n    </span>\r\n      <span dir="ltr" class="time">\r\n        <a href="http://www.youtube.com/comment?lc=GNkUgBesuijmO2YuwmajMW8rHX89-lbqFZyJ4nPPmPs" dir="ltr">\r\n            {{comment.published.$t}}\r\n        </a>\r\n      </span>\r\n  </p>\r\n\r\n\r\n  <div dir="ltr" class="comment-text">{{comment.content.$t}}</div>\r\n</div>\r\n</span>\r\n\r\n'}),define("directives/comment",["require","angular","./directives","text!../../templates/comment.html"],function(e){var t=e("angular"),n=e("./directives"),r=e("text!../../templates/comment.html"),i=n.directive("commentBody",function(){return{restrict:"C",replace:!0,transclude:!0,template:r}});return i}),define("directives/keyPress",["require","angular","./directives"],function(e){var t=e("angular"),n=e("./directives"),r=n.directive("ngEnter",function(){return{restrict:"A",link:function(e,t,n,r){t.bind("keypress",function(t){t.keyCode===13&&e.$apply(function(e){e.$eval(n.ngEnter)})})}}});return r}),define("app",["require","angular","./controllers/controllers","./filters/filters","./services/services","./directives/directives","./controllers/youTube","./controllers/ytCurrentVideo","./directives/searchResult","./directives/relatedVideo","./directives/pager","./directives/comment","./directives/keyPress"],function(e){var t=e("angular"),n=e("./controllers/controllers"),r=e("./filters/filters"),i=e("./services/services"),s=e("./directives/directives"),o=e("./controllers/youTube");e("./controllers/ytCurrentVideo"),e("./directives/searchResult"),e("./directives/relatedVideo"),e("./directives/pager"),e("./directives/comment"),e("./directives/keyPress");var u=t.module("myApp",["controllers","filters","services","directives"]);return u.config(["$routeProvider",function(e){e.when("/",{templateUrl:"partials/search.html",controller:"YouTubeCtrl"}),e.when("/:searchTerm",{templateUrl:"partials/search.html",controller:"YouTubeCtrl"}),e.when("/video/:videoID",{templateUrl:"partials/player.html",controller:"YTCurrentCtrl"}),e.otherwise({redirectTo:"/"})}]),u}),require({paths:{angular:"../lib/angular/angular",text:"../lib/require/text"},shim:{angular:{exports:"angular"}}},["angular","app"],function(e,t){e.bootstrap(document,[t.name])}),define("main",function(){});